# ì£¼ìš” ë³€ê²½ ì‚¬í•­ ìš”ì•½

## ğŸ“… 2025-01-07 ì—…ë°ì´íŠ¸

### ğŸ¯ í•µì‹¬ ë¬¸ì œ í•´ê²°

**ë¬¸ì œ ì¸ì‹:** 
ì‚¬ìš©ì ì²¨ë¶€ ì´ë¯¸ì§€ì—ì„œ AIê°€ default ì§€ì¹¨ë§Œ ì°¸ê³ í•˜ê³ , ì‹¤ì œ ì‘ì—… ì¤‘ì¸ í”„ë¡œì íŠ¸ì˜ BestCase(gRPC/OpenAPI ì •ë³´)ë¥¼ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œ ë°œê²¬

**í•´ê²° ë°©ì•ˆ:**
1. BestCase ìš°ì„  ì°¸ì¡° ê·œì¹™ ìˆ˜ë¦½
2. MCP ê¸°ë°˜ ìë™ BestCase ë¡œë“œ ì›Œí¬í”Œë¡œìš° êµ¬í˜„
3. ëª¨ë“  í”„ë¡œì íŠ¸ì— ê³µí†µ ì ìš© ê°€ëŠ¥í•œ ì§€ì¹¨ ì‘ì„±

---

## ğŸ“ ìƒˆë¡œ ì‘ì„±ëœ ì§€ì¹¨ íŒŒì¼

### 1. `00-bestcase-priority.md` (ìµœìš°ì„  ê·œì¹™) â­ NEW

**ëª©ì :** ëª¨ë“  í”„ë¡œì íŠ¸ì—ì„œ BestCaseë¥¼ ìš°ì„  ì°¸ì¡°í•˜ë„ë¡ ê°•ì œ

**í•µì‹¬ ë‚´ìš©:**
- âœ… ì‘ì—… ì‹œì‘ ì „ `list_bestcases()` â†’ `load_bestcase()` í•„ìˆ˜
- âœ… BestCaseì˜ API íƒ€ì…, ì»´í¬ë„ŒíŠ¸ íŒ¨í„´ ìš°ì„  ì ìš©
- âœ… Default ì§€ì¹¨ê³¼ ì¶©ëŒ ì‹œ **BestCase ìš°ì„ **
- âŒ API íƒ€ì… ì¶”ì¸¡ ê¸ˆì§€ (ë°˜ë“œì‹œ BestCase í™•ì¸)

**ì ìš© ë°©ì‹:**
```yaml
---
applyTo: "**/*"
priority: 1
---
```

**í—¬í¼ í•¨ìˆ˜ ì œê³µ:**
- `findMatchingBestCase()`: í˜„ì¬ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì™€ BestCase ë§¤ì¹­
- `loadCurrentProjectBestCase()`: BestCase ë¡œë“œ ë° ê²€ì¦

### 2. `bestcase-usage.md` (ìƒì„¸ ê°€ì´ë“œ) ğŸ”„ UPDATED

**ë³€ê²½ ì‚¬í•­:**
- âŒ ê¸°ì¡´: "BestCaseëŠ” ê°ì§€ë§Œ í•˜ë©°, ìë™ ì„¤ì •ì€ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤" (ìˆ˜ë™ ê°€ì´ë“œ)
- âœ… ì‹ ê·œ: "MCPë¥¼ í†µí•´ ìë™ìœ¼ë¡œ BestCase ë¡œë“œ ë° ì½”ë“œ ìƒì„±" (ìë™í™” ê°€ì´ë“œ)

**ìƒˆë¡œ ì¶”ê°€ëœ ì„¹ì…˜:**
1. **Step 1: í˜„ì¬ í”„ë¡œì íŠ¸ BestCase ìë™ ë¡œë“œ**
   - MCP í•¨ìˆ˜ í˜¸ì¶œ ì‹œí€€ìŠ¤
   - í”„ë¡œì íŠ¸ ë§¤ì¹­ ë¡œì§

2. **Step 2: API íƒ€ì… ìë™ ê°ì§€ ë° ì ìš©**
   - gRPC/OpenAPI/í•˜ì´ë¸Œë¦¬ë“œ ìë™ íŒë‹¨
   - BestCase ê¸°ë°˜ í´ë¼ì´ì–¸íŠ¸ ìƒì„±

3. **Step 3: ì»´í¬ë„ŒíŠ¸ íŒ¨í„´ ìë™ ì ìš©**
   - ì‚¬ìš© ë¹ˆë„ í†µê³„ ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ ì„ íƒ
   - Top 5 ì»´í¬ë„ŒíŠ¸ ìš°ì„  ì‚¬ìš©

4. **Step 4: ìš°ìˆ˜ ì‚¬ë¡€ ì½”ë“œ ìë™ ì°¸ì¡°**
   - 85ì  ì´ìƒ ì½”ë“œ í•„í„°ë§
   - í…œí”Œë¦¿ìœ¼ë¡œ í™œìš©

**ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤:**
- ì‹œë‚˜ë¦¬ì˜¤ 1: ìƒˆ í˜ì´ì§€ ìƒì„± (ëª©ë¡ í˜ì´ì§€)
- ì‹œë‚˜ë¦¬ì˜¤ 2: API í´ë¼ì´ì–¸íŠ¸ ìƒì„±
- ì‹œë‚˜ë¦¬ì˜¤ 3: ë°ì´í„° í¬ë§·íŒ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸ ì œê³µ:**
- [ ] BestCase ì¡°íšŒí–ˆëŠ”ê°€?
- [ ] API íƒ€ì… í™•ì¸í–ˆëŠ”ê°€?
- [ ] ì»´í¬ë„ŒíŠ¸ íŒ¨í„´ í™•ì¸í–ˆëŠ”ê°€?
- [ ] ìš°ìˆ˜ ì‚¬ë¡€ ì°¸ê³ í–ˆëŠ”ê°€?
- [ ] BestCase ìš°ì„  ì›ì¹™ ì¤€ìˆ˜í–ˆëŠ”ê°€?

---

## ğŸ”„ ì‘ë™ ì›ë¦¬

### Before (ë¬¸ì œ ìƒí™©)

```typescript
// âŒ AIê°€ Default ì§€ì¹¨ë§Œ ì°¸ê³ 
User: "ìƒí’ˆ ëª©ë¡ í˜ì´ì§€ ë§Œë“¤ì–´ì¤˜"

AI: [default.instructions.mdë§Œ ì½ìŒ]
     "ì´ í”„ë¡œì íŠ¸ëŠ” gRPCë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤" (í‹€ë¦¼!)
     â†’ gRPC í´ë¼ì´ì–¸íŠ¸ ìƒì„± (OpenAPI í”„ë¡œì íŠ¸ì¸ë°!)
```

### After (í•´ê²° ë°©ì•ˆ)

```typescript
// âœ… AIê°€ BestCase ìš°ì„  ì°¸ì¡°
User: "ìƒí’ˆ ëª©ë¡ í˜ì´ì§€ ë§Œë“¤ì–´ì¤˜"

AI: [00-bestcase-priority.md ì½ìŒ]
    Step 1: list_bestcases() í˜¸ì¶œ
    Step 2: í˜„ì¬ í”„ë¡œì íŠ¸ ë§¤ì¹­ (50.dktechin/frontend)
    Step 3: load_bestcase("50.dktechin/frontend", "auto-scan-ai")
    Step 4: BestCase í™•ì¸
      - apiType: "OpenAPI" âœ…
      - componentUsage: { CommonPaginationTable: 15, CommonTable: 3 }
      - excellentSnippets: [{ file: "composables/api.ts", score: 88 }]
    
    Step 5: BestCase ê¸°ë°˜ ì½”ë“œ ìƒì„±
      - OpenAPI í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©
      - CommonPaginationTable ì‚¬ìš© (ê°€ì¥ ë§ì´ ì“°ì„)
      - composables/api.ts ìš°ìˆ˜ ì‚¬ë¡€ ì°¸ê³ 
```

---

## ğŸ“Š BestCase ìë™ í™œìš© íë¦„ë„

```mermaid
graph TD
    A[ì‚¬ìš©ì ìš”ì²­: ì½”ë“œ ìƒì„±] --> B[00-bestcase-priority.md ì½ê¸°]
    B --> C{BestCase ë¡œë“œ ì‹œë„}
    C -->|ì„±ê³µ| D[BestCase ë°ì´í„° ë¶„ì„]
    C -->|ì‹¤íŒ¨| E[Default ì§€ì¹¨ ì ìš© + ê²½ê³ ]
    
    D --> F[API íƒ€ì… í™•ì¸]
    F --> G{gRPC? OpenAPI?}
    G -->|gRPC| H[gRPC í´ë¼ì´ì–¸íŠ¸ ìƒì„±]
    G -->|OpenAPI| I[OpenAPI í´ë¼ì´ì–¸íŠ¸ ìƒì„±]
    
    D --> J[ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© í†µê³„ í™•ì¸]
    J --> K[Top ì»´í¬ë„ŒíŠ¸ ìš°ì„  ì‚¬ìš©]
    
    D --> L[ìš°ìˆ˜ ì‚¬ë¡€ ì½”ë“œ ê²€ìƒ‰]
    L --> M{85ì  ì´ìƒ ì½”ë“œ ìˆìŒ?}
    M -->|Yes| N[í…œí”Œë¦¿ìœ¼ë¡œ ì‚¬ìš©]
    M -->|No| O[ì¼ë°˜ íŒ¨í„´ ì ìš©]
    
    H --> P[BestCase ê¸°ë°˜ ì½”ë“œ ìƒì„±]
    I --> P
    K --> P
    N --> P
    O --> P
    E --> P
    
    P --> Q[ì™„ë£Œ]
```

---

**ë¬¸ì œ**: "í”„ë¡œì íŠ¸ë³„ í•œê°œì˜ ìµœì‹  AI ë¶„ì„ ê²°ê³¼ë§Œ ìˆìœ¼ë©´ ë  ê±° ê°™ì•„"

**í•´ê²° ë°©ë²•**:
1. **ìƒˆ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±**: `cleanup-old-bestcases.js`
   - í”„ë¡œì íŠ¸ë³„ BestCase íŒŒì¼ ê·¸ë£¹í™”
   - íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ì¤€ ì •ë ¬
   - ìµœì‹  íŒŒì¼ë§Œ ìœ ì§€, ë‚˜ë¨¸ì§€ ì‚­ì œ

2. **í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
   ```
   Before: 116 files (í”„ë¡œì íŠ¸ë‹¹ 2ê°œì”©)
   After:  66 files (í”„ë¡œì íŠ¸ë‹¹ 1ê°œì”©)
   Deleted: 50 duplicate files
   ```

3. **ìë™í™” ì ìš©**:
   - `cron-scan.sh`ì— 3ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ ì¶”ê°€
   - **Step 1**: ì˜¤ë˜ëœ íŒŒì¼ ì •ë¦¬
   - **Step 2**: AI ìŠ¤ìº” ì‹¤í–‰
   - **Step 3**: ìŠ¤ìº” í›„ ì¬ì •ë¦¬

### 3. â° ìŠ¤ìº” ì£¼ê¸° ë³€ê²½

**ë¬¸ì œ**: "ì£¼ê¸°ë„ ë§¤ì£¼ ì¼ìš”ì¼ì— ì²´í¬ë§Œ í•˜ëŠ”ì‹ìœ¼ë¡œ ë³€ê²½í•´ ì¤˜"

**ë³€ê²½ ë‚´ìš©**:
- **Before**: `0 */6 * * *` (6ì‹œê°„ë§ˆë‹¤)
- **After**: `0 2 * * 0` (ë§¤ì£¼ ì¼ìš”ì¼ ì˜¤ì „ 2ì‹œ)

**ì˜í–¥**:
- ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ê°ì†Œ: ì£¼ 28íšŒ â†’ ì£¼ 1íšŒ
- GPU í™œìš© ìµœì í™”: í•œ ë²ˆì— ì§‘ì¤‘ ì²˜ë¦¬
- ìŠ¤ìº” ì‹œê°„: ì•½ 2-4ì‹œê°„ (ì¼ìš”ì¼ ìƒˆë²½)

## ğŸ“Š ì „ì²´ í”„ë¡œì„¸ìŠ¤ íë¦„

### ì£¼ê°„ ìŠ¤ìº” (Every Sunday 02:00)

```mermaid
graph TD
    A[ì¼ìš”ì¼ 02:00 AM] --> B[Step 1: cleanup-old-bestcases.js]
    B --> C[ì˜¤ë˜ëœ BestCase ì‚­ì œ]
    C --> D[Step 2: auto-scan-projects-ai.js]
    D --> E[66ê°œ Nuxt í”„ë¡œì íŠ¸ ìŠ¤ìº”]
    E --> F[AI ì½”ë“œ ë¶„ì„ + ì ìˆ˜ ê³„ì‚°]
    F --> G[BestCase JSON ì €ì¥]
    G --> H[Step 3: cleanup-old-bestcases.js]
    H --> I[ìŠ¤ìº” ì¤‘ ì¤‘ë³µ íŒŒì¼ ì¬ì •ë¦¬]
    I --> J[ì™„ë£Œ: í”„ë¡œì íŠ¸ë‹¹ 1ê°œ íŒŒì¼]
```

### BestCase ì €ì¥ êµ¬ì¡°

```
/projects/.bestcases/
â”œâ”€â”€ 00.common-frontend_work-dir-auto-scan-ai-1762524673559.json
â”œâ”€â”€ 14.dream2m-frontend-admin-auto-scan-ai-1762527767113.json
â”œâ”€â”€ 50.dktechin-frontend-auto-scan-ai-1762537863463.json
â””â”€â”€ ... (ì´ 66ê°œ, í”„ë¡œì íŠ¸ë‹¹ 1ê°œ)
```

## ğŸ”§ ê¸°ìˆ  ì„¸ë¶€ì‚¬í•­

### í™˜ê²½ ë³€ìˆ˜

```env
BESTCASE_STORAGE_PATH=/projects/.bestcases
LLM_MODEL=qwen2.5-coder:7b
CONCURRENCY=2
```

### Docker ì„¤ì •

```yaml
cron-scheduler:
  cron: '0 2 * * 0'  # Every Sunday 02:00 AM
  scripts:
    - cleanup-old-bestcases.js
    - cron-scan.sh (auto-scan-projects-ai.js)
```

### íŒŒì¼ ì •ë¦¬ ë¡œì§

```javascript
// cleanup-old-bestcases.js
1. BestCase íŒŒì¼ ì „ì²´ ì½ê¸°
2. í”„ë¡œì íŠ¸ëª…ë³„ë¡œ ê·¸ë£¹í™”
3. íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ì¤€ ì •ë ¬
4. ê° í”„ë¡œì íŠ¸ë³„ ìµœì‹  1ê°œë§Œ ìœ ì§€
5. ë‚˜ë¨¸ì§€ íŒŒì¼ ì‚­ì œ
```

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [WEEKLY_SCAN_GUIDE.md](./WEEKLY_SCAN_GUIDE.md) | ì£¼ê°„ ìŠ¤ìº” ìƒì„¸ ê°€ì´ë“œ |
| [bestcase-usage.md](./.github/instructions/bestcase-usage.md) | BestCase í™œìš© ë°©ë²• |
| [AI_AUTO_SCAN_GUIDE.md](./AI_AUTO_SCAN_GUIDE.md) | AI ë¶„ì„ ìƒì„¸ ì„¤ëª… |
| [VSCODE_MCP_GUIDE.md](./VSCODE_MCP_GUIDE.md) | VS Code MCP ì—°ë™ |

## âœ… ì™„ë£Œëœ ì‘ì—…

- [x] BestCase ìë™ ì—°ê²° ê°€ëŠ¥ì„± ê²€í† 
- [x] MCP í•œê³„ íŒŒì•… ë° ë¬¸ì„œí™”
- [x] BestCase í™œìš© ê°€ì´ë“œ ì‘ì„± (200+ ì¤„)
- [x] cleanup-old-bestcases.js ìƒì„±
- [x] ë¡œì»¬ í…ŒìŠ¤íŠ¸ (116 â†’ 66 íŒŒì¼)
- [x] Cron ìŠ¤ì¼€ì¤„ ë³€ê²½ (6ì‹œê°„ â†’ ì£¼ê°„)
- [x] 3ë‹¨ê³„ ìŠ¤ìº” í”„ë¡œì„¸ìŠ¤ êµ¬í˜„
- [x] Docker ì´ë¯¸ì§€ ì¬ë¹Œë“œ
- [x] Cron ìŠ¤ì¼€ì¤„ëŸ¬ ì¬ì‹œì‘
- [x] ì»¨í…Œì´ë„ˆ ë‚´ë¶€ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [x] ì£¼ê°„ ìŠ¤ìº” ê°€ì´ë“œ ì‘ì„±
- [x] README.md ì—…ë°ì´íŠ¸

## ğŸ¯ ë‹¤ìŒ ì‹¤í–‰ ì˜ˆì •

**ë‹¤ìŒ ìŠ¤ìº”**: ë‹¤ê°€ì˜¤ëŠ” ì¼ìš”ì¼ ì˜¤ì „ 2ì‹œ

í™•ì¸ ë°©ë²•:
```bash
docker exec bestcase-cron-scheduler crontab -l
# ì¶œë ¥: 0 2 * * 0 /app/cron-scan.sh >> /var/log/cron.log 2>&1
```

ìˆ˜ë™ ì‹¤í–‰ (í…ŒìŠ¤íŠ¸):
```bash
docker exec -it bestcase-cron-scheduler /app/cron-scan.sh
```
